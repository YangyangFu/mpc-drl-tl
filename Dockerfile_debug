FROM mpcdrl

USER root
RUN conda install seaborn

WORKDIR $HOME
COPY ./testcases/gym-environments/single-zone/gym_singlezone_jmodelica $HOME/github/testcases/gym-environments/single-zone/gym_singlezone_jmodelica
COPY ./testcases/gym-environments/single-zone/setup.py $HOME/github/testcases/gym-environments/single-zone/setup.py
RUN cd $HOME/github/testcases/gym-environments/single-zone && pip install -e .

# install pybobyqa as an optimizer for perfect MPC
WORKDIR $HOME
RUN pip install Py-BOBYQA pyswarms

USER developer